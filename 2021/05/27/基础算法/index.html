<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
<meta name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">

    <meta name="author" content="舒克">





<title>基础算法 | James&#39;s blog</title>



    <link rel="icon" href="/public/favicon.ico">




    <!-- stylesheets list from _config.yml -->
    
    <link rel="stylesheet" href="/css/style.css">
    



    <!-- scripts list from _config.yml -->
    
    <script src="/js/script.js"></script>
    
    <script src="/js/tocbot.min.js"></script>
    



    
    
        <!-- MathJax配置，可通过单美元符号书写行内公式等 -->
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
    "HTML-CSS": {
        preferredFont: "TeX",
        availableFonts: ["STIX","TeX"],
        linebreaks: { automatic:true },
        EqnChunk: (MathJax.Hub.Browser.isMobile ? 10 : 50)
    },
    tex2jax: {
        inlineMath: [ ["$", "$"], ["\\(","\\)"] ],
        processEscapes: true,
        ignoreClass: "tex2jax_ignore|dno",
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    },
    TeX: {
        equationNumbers: { autoNumber: "AMS" },
        noUndefined: { attributes: { mathcolor: "red", mathbackground: "#FFEEEE", mathsize: "90%" } },
        Macros: { href: "{}" }
    },
    messageStyle: "none"
    });
</script>
<!-- 给MathJax元素添加has-jax class -->
<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>
<!-- 通过连接CDN加载MathJax的js代码 -->
<script type="text/javascript" async
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML">
</script>


    


<meta name="generator" content="Hexo 4.2.0"><link rel="alternate" href="/atom.xml" title="James's blog" type="application/atom+xml">
</head>
<body>
    <div class="wrapper">
        <header>
    <nav class="navbar">
        <div class="container">
            <div class="navbar-header header-logo"><a href="/">Shuker&#39;s Blog</a></div>
            <div class="menu navbar-right">
                
                    <a class="menu-item" href="/archives">Posts</a>
                
                    <a class="menu-item" href="/category">Categories</a>
                
                    <a class="menu-item" href="/tag">Tags</a>
                
                    <a class="menu-item" href="/about">About</a>
                
                <input id="switch_default" type="checkbox" class="switch_default">
                <label for="switch_default" class="toggleBtn"></label>
            </div>

        </div>
    </nav>

    
    <nav class="navbar-mobile" id="nav-mobile">
        <div class="container">
            <div class="navbar-header">
                <div>
                    <a href="/">Shuker&#39;s Blog</a><a id="mobile-toggle-theme">·&nbsp;Light</a>
                </div>
                <div class="menu-toggle" onclick="mobileBtn()">&#9776; Menu</div>
            </div>
            <div class="menu" id="mobile-menu">
                
                    <a class="menu-item" href="/archives">Posts</a>
                
                    <a class="menu-item" href="/category">Categories</a>
                
                    <a class="menu-item" href="/tag">Tags</a>
                
                    <a class="menu-item" href="/about">About</a>
                
            </div>
        </div>
    </nav>

</header>
<script>
    var mobileBtn = function f() {
        var toggleMenu = document.getElementsByClassName("menu-toggle")[0];
        var mobileMenu = document.getElementById("mobile-menu");
        if(toggleMenu.classList.contains("active")){
           toggleMenu.classList.remove("active")
            mobileMenu.classList.remove("active")
        }else{
            toggleMenu.classList.add("active")
            mobileMenu.classList.add("active")
        }
    }
</script>
        <div class="main">
            <div class="container">
    
    
        <div class="post-toc">
    <div class="tocbot-list">
    </div>
    <div class="tocbot-list-menu">
        <a class="tocbot-toc-expand" onclick="expand_toc()">Expand all</a>
        <a onclick="go_top()">Back to top</a>
        <a onclick="go_bottom()">Go to bottom</a>
    </div>
</div>

<script>
    document.ready(
        function () {
            tocbot.init({
                tocSelector: '.tocbot-list',
                contentSelector: '.post-content',
                headingSelector: 'h1, h2, h3, h4, h5',
                collapseDepth: 1,
                orderedList: false,
                scrollSmooth: true,
            })
        }
    )

    function expand_toc() {
        var b = document.querySelector(".tocbot-toc-expand");
        tocbot.init({
            tocSelector: '.tocbot-list',
            contentSelector: '.post-content',
            headingSelector: 'h1, h2, h3, h4, h5',
            collapseDepth: 6,
            orderedList: false,
            scrollSmooth: true,
        });
        b.setAttribute("onclick", "collapse_toc()");
        b.innerHTML = "Collapse all"
    }

    function collapse_toc() {
        var b = document.querySelector(".tocbot-toc-expand");
        tocbot.init({
            tocSelector: '.tocbot-list',
            contentSelector: '.post-content',
            headingSelector: 'h1, h2, h3, h4, h5',
            collapseDepth: 1,
            orderedList: false,
            scrollSmooth: true,
        });
        b.setAttribute("onclick", "expand_toc()");
        b.innerHTML = "Expand all"
    }

    function go_top() {
        window.scrollTo(0, 0);
    }

    function go_bottom() {
        window.scrollTo(0, document.body.scrollHeight);
    }

</script>
    

    
    <article class="post-wrap">
        <header class="post-header">
            <h1 class="post-title">基础算法</h1>
            
                <div class="post-meta">
                    
                        Author: <a itemprop="author" rel="author" href="/">舒克</a>
                    

                    
                        <span class="post-time">
                        Date: <a href="#">May 27, 2021&nbsp;&nbsp;22:43:44</a>
                        </span>
                    
                    
                        <span class="post-category">
                    Category:
                            
                                <a href="/categories/Program/">Program</a>
                            
                        </span>
                    
                </div>
            
        </header>

        <div class="post-content">
            <h1 id="Begin-Quickly"><a href="#Begin-Quickly" class="headerlink" title="Begin Quickly"></a>Begin Quickly</h1><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> GCC optimize (<span class="meta-string">"O1"</span>)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> comment(linker, <span class="meta-string">"/STACK:1024000000,1024000000"</span>)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iomanip&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> r(i,a,b) for(int i=a,i&lt;b;i++)</span></span><br><span class="line"><span class="keyword">using</span> ll = <span class="keyword">long</span> <span class="keyword">long</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N=<span class="number">100</span>;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">int</span> <span class="title">read</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> s = <span class="number">0</span>, w = <span class="number">1</span>;<span class="comment">//s是数值，w是符号</span></span><br><span class="line">    <span class="keyword">char</span> ch = getchar();</span><br><span class="line">    <span class="keyword">while</span> (ch &lt; <span class="string">'0'</span> || ch &gt; <span class="string">'9'</span>) &#123;<span class="comment">//将空格、换行与符号滤去</span></span><br><span class="line">        <span class="keyword">if</span> (ch == <span class="string">'-'</span>) &#123;<span class="comment">//出现负号表示是负数</span></span><br><span class="line">            w = <span class="number">-1</span>;</span><br><span class="line">            ch = getchar();<span class="comment">//继续读入</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (ch &gt;= <span class="string">'0'</span> &amp;&amp; ch &lt;= <span class="string">'9'</span>)&#123; <span class="comment">//循环读取每一位的数字</span></span><br><span class="line">        s = s * <span class="number">10</span> + ch - <span class="string">'0'</span>;<span class="comment">//将每一位的结果累加进s</span></span><br><span class="line">        ch = getchar();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> s * w;<span class="comment">//乘上符号</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>编译器优化</p>
<p>-O0 表示无优化状态</p>
<p>-O1 表示对代码进行了优化</p>
<p>-O2 表示减小目标文件大小</p>
<p>-O3 表示减小代码段及栈空间的大小</p>
<p>#pragma GCC optimize (“O0”)</p>
<p>爆栈</p>
<p>#pragma comment(linker, “/STACK:1024000000,1024000000”)</p>
<h2 id="快读快出"><a href="#快读快出" class="headerlink" title="快读快出"></a>快读快出</h2><h3 id="scanf"><a href="#scanf" class="headerlink" title="scanf"></a>scanf</h3><p>scanf(“%控制格式”, &amp;变量地址); 对于数组 变量本身就是地址</p>
<table>
<thead>
<tr>
<th align="center">格式</th>
<th align="center">字符意义</th>
</tr>
</thead>
<tbody><tr>
<td align="center">d</td>
<td align="center">十进制整数</td>
</tr>
<tr>
<td align="center">o</td>
<td align="center">八进制整数</td>
</tr>
<tr>
<td align="center">x</td>
<td align="center">十六进制整数</td>
</tr>
<tr>
<td align="center">u</td>
<td align="center">无符号十进制整数</td>
</tr>
<tr>
<td align="center">f或e</td>
<td align="center">实型数(用小数形式或指数形式)</td>
</tr>
<tr>
<td align="center">c</td>
<td align="center">单个字符</td>
</tr>
<tr>
<td align="center">s</td>
<td align="center">字符串</td>
</tr>
<tr>
<td align="center">l/h</td>
<td align="center">l表示长，h表示短，Eg：lf 读入doble</td>
</tr>
<tr>
<td align="center">*</td>
<td align="center">读入不赋值，EG：*d 读入int但不赋值</td>
</tr>
<tr>
<td align="center">5（数字）</td>
<td align="center">读入宽度</td>
</tr>
<tr>
<td align="center">-/+</td>
<td align="center">左/右对齐</td>
</tr>
<tr>
<td align="center">#</td>
<td align="center">需要时给出小数点和前缀o或 0x</td>
</tr>
<tr>
<td align="center">空格</td>
<td align="center">需要时显示正负号</td>
</tr>
<tr>
<td align="center"></td>
<td align="center"></td>
</tr>
</tbody></table>
<p>没有精度控制 scanf(“%5.2f”,&amp;a);是非法的</p>
<p>要求给出变量地址 scanf(“%d”,a);是非法的</p>
<p>在碰到空格，TAB，回车或非法数据时认为该数据结束</p>
<h3 id="printf"><a href="#printf" class="headerlink" title="printf"></a>printf</h3><p>printf(“%控制格式”, 变量本身);</p>
<p>%a(%A)     浮点数、十六进制数字和p-(P-)记数法(C99)<br>      %c         字符<br>      %d         有符号十进制整数<br>      %f         浮点数(包括float和double)<br>      %e(%E)     浮点数指数输出[e-(E-)记数法]<br>      %g(%G)     浮点数不显无意义的零”0”<br>      %i         有符号十进制整数(与%d相同)<br>      %u         无符号十进制整数<br>      %x(%X)     十六进制整数0f(0F)   e.g.   0x1234<br>      %p         指针<br>      %%         “%”</p>
<h3 id="读入空格"><a href="#读入空格" class="headerlink" title="读入空格"></a>读入空格</h3><p>cin.get(x) 读入单个char</p>
<p>x = getchar( ) 读入单个char，对应putchar( ) 输出单个char</p>
<p>getline(x) 读入string</p>
<h3 id="内联函数read"><a href="#内联函数read" class="headerlink" title="内联函数read"></a>内联函数read</h3><p>内联是将代码内嵌到调用者代码处</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">inline int read() &#123;</span><br><span class="line">    int s &#x3D; 0, w &#x3D; 1;&#x2F;&#x2F;s是数值，w是符号</span><br><span class="line">    char ch &#x3D; getchar();</span><br><span class="line">    while (ch &lt; &#39;0&#39; || ch &gt; &#39;9&#39;) &#123;&#x2F;&#x2F;将空格、换行与符号滤去</span><br><span class="line">        if (ch &#x3D;&#x3D; &#39;-&#39;) &#123;&#x2F;&#x2F;出现负号表示是负数</span><br><span class="line">            w &#x3D; -1;</span><br><span class="line">            ch &#x3D; getchar();&#x2F;&#x2F;继续读入</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    while (ch &gt;&#x3D; &#39;0&#39; &amp;&amp; ch &lt;&#x3D; &#39;9&#39;)&#123; &#x2F;&#x2F;循环读取每一位的数字</span><br><span class="line">        s &#x3D; s * 10 + ch - &#39;0&#39;;&#x2F;&#x2F;将每一位的结果累加进s</span><br><span class="line">        ch &#x3D; getchar();</span><br><span class="line">    &#125;</span><br><span class="line">    return s * w;&#x2F;&#x2F;乘上符号</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="内联函数write"><a href="#内联函数write" class="headerlink" title="内联函数write"></a>内联函数write</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">void write(int v) &#123;</span><br><span class="line">    if (v&lt;0) &#123;</span><br><span class="line">        putchar(&#39;-&#39;);</span><br><span class="line">        v&#x3D;-v;</span><br><span class="line">    &#125;</span><br><span class="line">    if (v&gt;9) write(v&#x2F;10);</span><br><span class="line">    putchar(v%10+&#39;0&#39;);</span><br><span class="line">&#125;</span><br><span class="line">puts(&quot;&quot;); &#x2F;&#x2F;换行</span><br></pre></td></tr></table></figure>



<h1 id="基础算法"><a href="#基础算法" class="headerlink" title="基础算法"></a>基础算法</h1><h2 id="排序"><a href="#排序" class="headerlink" title="排序"></a>排序</h2><h3 id="快速排序-分治"><a href="#快速排序-分治" class="headerlink" title="快速排序 - 分治"></a>快速排序 - 分治</h3><ol>
<li><p>确定分界：q[l], q[(l + r) / 2], q[r], 随机点 </p>
</li>
<li><p>调整区间：小于分界点的在左区间，其余在右区间 </p>
<p>​    使用两个数组作为左右区间</p>
<p>​    使用两个指针（i = l - 1，j = r + 1），如果a[i]&gt;x,a[i]&lt;x，交换a[i] a[j]</p>
</li>
<li><p>递归：给左右排序 </p>
</li>
</ol>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">quick_sort</span><span class="params">(<span class="keyword">int</span> q[], <span class="keyword">int</span> l, <span class="keyword">int</span> r)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (l &gt;= r) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> i = l - <span class="number">1</span>, j = r + <span class="number">1</span>, x = q[l + r &gt;&gt; <span class="number">1</span>];</span><br><span class="line">    <span class="keyword">while</span> (i &lt; j) &#123;</span><br><span class="line">        <span class="keyword">do</span> i ++ ; <span class="keyword">while</span> (q[i] &lt; x);</span><br><span class="line">        <span class="keyword">do</span> j -- ; <span class="keyword">while</span> (q[j] &gt; x);</span><br><span class="line">        <span class="keyword">if</span> (i &lt; j) swap(q[i], q[j]);</span><br><span class="line">    &#125;</span><br><span class="line">    quick_sort(q, l, j); quick_sort(q, j + <span class="number">1</span>, r);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="归并排序-分治（稳定）"><a href="#归并排序-分治（稳定）" class="headerlink" title="归并排序 - 分治（稳定）"></a>归并排序 - 分治（稳定）</h3><ol>
<li>确定分界点 mid = (l + r) / 2 </li>
<li>递归排序</li>
<li>归并两个有序数组（两个指针遍历两个数组，小的放入新数组）</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">void merge_sort(int q[], int l, int r)&#123;</span><br><span class="line">    if (l &gt;&#x3D; r) return;</span><br><span class="line"></span><br><span class="line">    int mid &#x3D; l + r &gt;&gt; 1;</span><br><span class="line">    merge_sort(q, l, mid);merge_sort(q, mid + 1, r);</span><br><span class="line"></span><br><span class="line">    int k &#x3D; 0, i &#x3D; l, j &#x3D; mid + 1;</span><br><span class="line">    while (i &lt;&#x3D; mid &amp;&amp; j &lt;&#x3D; r)</span><br><span class="line">        if (q[i] &lt;&#x3D; q[j]) tmp[k ++ ] &#x3D; q[i ++ ];</span><br><span class="line">        else tmp[k ++ ] &#x3D; q[j ++ ];</span><br><span class="line"></span><br><span class="line">    while (i &lt;&#x3D; mid) tmp[k ++ ] &#x3D; q[i ++ ];</span><br><span class="line">    while (j &lt;&#x3D; r) tmp[k ++ ] &#x3D; q[j ++ ];</span><br><span class="line"></span><br><span class="line">    for (i &#x3D; l, j &#x3D; 0; i &lt;&#x3D; r; i ++, j ++ ) q[i] &#x3D; tmp[j];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="二分"><a href="#二分" class="headerlink" title="二分"></a>二分</h2><p>有单调性 一定可以 二分</p>
<p>求范围，让答案在收缩的区间里</p>
<p>向左收缩和向右收缩mid的取值不同</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">bool check(int x) &#123;&#125; &#x2F;&#x2F; 检查x是否满足某种性质</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 区间[l, r]被划分成[l, mid]和[mid + 1, r]时使用：向左收缩</span><br><span class="line">int bsearch_1(int l, int r) &#123;</span><br><span class="line">    while (l &lt; r) &#123;</span><br><span class="line">        int mid &#x3D; l + r &gt;&gt; 1;</span><br><span class="line">        if (check(mid)) r &#x3D; mid;    &#x2F;&#x2F; check()判断mid是否满足性质</span><br><span class="line">        else l &#x3D; mid + 1;</span><br><span class="line">    &#125;</span><br><span class="line">    return l;</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;&#x2F; 区间[l, r]被划分成[l, mid - 1]和[mid, r]时使用：向右收缩</span><br><span class="line">int bsearch_2(int l, int r) &#123;</span><br><span class="line">    while (l &lt; r) &#123;</span><br><span class="line">        int mid &#x3D; l + r + 1 &gt;&gt; 1;&#x2F;&#x2F;防止死循环 多加1</span><br><span class="line">        if (check(mid)) l &#x3D; mid;</span><br><span class="line">        else r &#x3D; mid - 1;</span><br><span class="line">    &#125;</span><br><span class="line">    return l;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p> 对于浮点数 将while里停止的条件改为 r - l &gt; 1e-6</p>
<p>while控制的精度最好小于输出保留位数两位，防止精度不够</p>
<p>Eg：输出小数点后四位，这里控制为1e-6</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">bool check(double x) &#123;&#125; &#x2F;&#x2F; 检查x是否满足某种性质</span><br><span class="line"></span><br><span class="line">double bsearch_3(double l, double r) &#123;</span><br><span class="line">    const double eps &#x3D; 1e-6;   &#x2F;&#x2F; eps 表示精度，取决于题目对精度的要求</span><br><span class="line">    while (r - l &gt; eps) &#123;</span><br><span class="line">        double mid &#x3D; (l + r) &#x2F; 2;</span><br><span class="line">        if (check(mid)) r &#x3D; mid;</span><br><span class="line">        else l &#x3D; mid;</span><br><span class="line">    &#125;</span><br><span class="line">    return l;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="高精度（C-）"><a href="#高精度（C-）" class="headerlink" title="高精度（C++）"></a>高精度（C++）</h2><p>用数组存大整数，低地址存低位（小端），0存个位</p>
<h3 id="大数相加"><a href="#大数相加" class="headerlink" title="大数相加"></a>大数相加</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; C &#x3D; A + B, A &gt;&#x3D; 0, B &gt;&#x3D; 0</span><br><span class="line">vector&lt;int&gt; add(vector&lt;int&gt; &amp;A, vector&lt;int&gt; &amp;B) &#123;</span><br><span class="line">    if (A.size() &lt; B.size()) return add(B, A);</span><br><span class="line"></span><br><span class="line">    vector&lt;int&gt; C;</span><br><span class="line">    int t &#x3D; 0;</span><br><span class="line">    for (int i &#x3D; 0; i &lt; A.size(); i ++ ) &#123;</span><br><span class="line">        t +&#x3D; A[i];</span><br><span class="line">        if (i &lt; B.size()) t +&#x3D; B[i];</span><br><span class="line">        C.push_back(t % 10);</span><br><span class="line">        t &#x2F;&#x3D; 10;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    if (t) C.push_back(t);</span><br><span class="line">    return C;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="大数相减"><a href="#大数相减" class="headerlink" title="大数相减"></a>大数相减</h3><p>A &lt; B =&gt; -(B - A) </p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// C = A - B, 满足A &gt;= B, A &gt;= 0, B &gt;= 0</span></span><br><span class="line"><span class="function"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; <span class="title">sub</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp;A, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp;B)</span> </span>&#123; <span class="comment">//引用 节省时间</span></span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; C;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>, t = <span class="number">0</span>; i &lt; A.<span class="built_in">size</span>(); i ++ ) &#123;</span><br><span class="line">        t = A[i] - t;</span><br><span class="line">        <span class="keyword">if</span> (i &lt; B.<span class="built_in">size</span>()) t -= B[i];</span><br><span class="line">        C.push_back((t + <span class="number">10</span>) % <span class="number">10</span>);</span><br><span class="line">        <span class="keyword">if</span> (t &lt; <span class="number">0</span>) t = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">else</span> t = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (C.<span class="built_in">size</span>() &gt; <span class="number">1</span> &amp;&amp; C.back() == <span class="number">0</span>) C.pop_back();</span><br><span class="line">    <span class="keyword">return</span> C;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="大数乘小数"><a href="#大数乘小数" class="headerlink" title="大数乘小数"></a>大数乘小数</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; C &#x3D; A * b, A &gt;&#x3D; 0, b &gt;&#x3D; 0</span><br><span class="line">vector&lt;int&gt; mul(vector&lt;int&gt; &amp;A, int b) &#123;</span><br><span class="line">    vector&lt;int&gt; C;</span><br><span class="line"></span><br><span class="line">    for (int i &#x3D; 0, t &#x3D; 0; i &lt; A.size() || t; i ++ ) &#123;</span><br><span class="line">        if (i &lt; A.size()) t +&#x3D; A[i] * b;</span><br><span class="line">        C.push_back(t % 10);</span><br><span class="line">        t &#x2F;&#x3D; 10;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    while (C.size() &gt; 1 &amp;&amp; C.back() &#x3D;&#x3D; 0) C.pop_back();</span><br><span class="line"></span><br><span class="line">    return C;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="大数除以小数"><a href="#大数除以小数" class="headerlink" title="大数除以小数"></a>大数除以小数</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; A &#x2F; b &#x3D; C ... r, A &gt;&#x3D; 0, b &gt; 0vector&lt;int&gt; div(vector&lt;int&gt; &amp;A, int b, int &amp;r) &#123;    vector&lt;int&gt; C;    r &#x3D; 0;    for (int i &#x3D; A.size() - 1; i &gt;&#x3D; 0; i -- ) &#123;        r &#x3D; r * 10 + A[i];        C.push_back(r &#x2F; b);        r %&#x3D; b;    &#125;    reverse(C.begin(), C.end());    while (C.size() &gt; 1 &amp;&amp; C.back() &#x3D;&#x3D; 0) C.pop_back();    return C;&#125;</span><br></pre></td></tr></table></figure>


        </div>

        
            <section class="post-copyright">
                
                    <p class="copyright-item">
                        <span>Author:</span>
                        <span>舒克</span>
                    </p>
                
                
                
                    <p class="copyright-item">
                        <span>License:</span>
                        <span>Copyright (c) 2020 <a href="http://creativecommons.org/licenses/by-nc/4.0/" target="_blank" rel="noopener">CC-BY-NC-4.0</a> LICENSE</span>
                    </p>
                
                

            </section>
        
        <section class="post-tags">
            <div>
                <span>Tag(s):</span>
                <span class="tag">
                    
                    
                        <a href="/tags/C/"># C++</a>
                    
                        
                </span>
            </div>
            <div>
                <a href="javascript:window.history.back();">back</a>
                <span>· </span>
                <a href="/">home</a>
            </div>
        </section>
        <section class="post-nav">
            
                <a class="prev" rel="prev" href="/2021/05/27/%E5%9B%BE%E5%83%8F%E8%AF%86%E5%88%AB/">图像识别</a>
            
            
            <a class="next" rel="next" href="/2021/03/02/vim/">vim</a>
            
        </section>


    </article>
</div>

        </div>
        <footer id="footer" class="footer">
    <div class="copyright">
        <span>© 舒克 | Powered by <a href="https://hexo.io" target="_blank">Hexo</a> & <a href="https://github.com/Siricee/hexo-theme-Chic" target="_blank">Chic</a></span>
    </div>
</footer>

    </div>
</body>
</html>
